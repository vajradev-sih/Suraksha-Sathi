<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Safety Resources</title>

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&display=swap"
      rel="stylesheet"
    />

    <script id="tailwind-config">
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#117dd4",
              "background-light": "#f6f7f8",
              "background-dark": "#101a22",
              gray: {
                100: "#f7fafc",
                200: "#e9edf1",
                300: "#d1d5db",
                500: "#6b7280",
                700: "#374151",
                800: "#1f2937",
              },
            },
            fontFamily: { display: ["Public Sans", "sans-serif"] },
          },
        },
      };
    </script>

    <style>
      .material-symbols-outlined {
        font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
      }
      body {
        min-height: max(884px, 100dvh);
      }
    </style>
  </head>

  <body class="bg-background-light font-display">
    <div class="relative flex h-auto min-h-screen w-full flex-col">
      <!-- Header -->
      <header
        class="sticky top-0 z-50 flex items-center bg-gradient-to-r from-[#020617] via-[#0f172a] to-[#000000] px-4 py-3 justify-between shadow-lg"
      >
        <div class="flex size-12 shrink-0 items-center justify-start">
          <button onclick="window.history.back()" class="text-white">
            <span class="material-symbols-outlined">arrow_back</span>
          </button>
        </div>
        <div class="flex-1 flex justify-center">
          <h1
            class="text-xl sm:text-2xl font-[Orbitron] tracking-widest text-white"
          >
            Safety Resources
          </h1>
        </div>
      </header>

      <!-- Search -->
      <div
        class="bg-gradient-to-r from-[#020617] via-[#0f172a] to-[#000000] p-4"
      >
        <label
          class="flex w-full h-12 items-center bg-black/20 backdrop-blur-sm rounded-lg border border-white/10 focus-within:ring-2 focus-within:ring-primary transition-all"
        >
          <div class="flex items-center justify-center pl-4">
            <span class="material-symbols-outlined text-neutral-400 text-2xl"
              >search</span
            >
          </div>
          <input
            id="searchInput"
            onkeyup="filterCards()"
            placeholder="Search for resources..."
            class="flex-1 h-full px-4 bg-transparent border-none focus:ring-0 text-white placeholder:text-neutral-400"
            data-translate-key="search_placeholder"
          />
        </label>
      </div>

      <!-- Tabs -->
      <div class="bg-white pb-3 overflow-x-auto border-b border-gray-200">
        <div class="flex px-4 gap-8">
          <button
            class="tab active text-primary border-b-2 border-primary pb-3 pt-4 font-bold text-sm"
            data-category="all"
            data-translate-key="tab_all"
          >
            All
          </button>
          <button
            class="tab text-gray-500 border-b-2 border-transparent pb-3 pt-4 font-bold text-sm"
            data-category="videos"
            data-translate-key="tab_videos"
          >
            Videos
          </button>
          <button
            class="tab text-gray-500 border-b-2 border-transparent pb-3 pt-4 font-bold text-sm"
            data-category="case-studies"
            data-translate-key="tab_case_studies"
          >
            Case Studies
          </button>
        </div>
      </div>

      <!-- Video / Case Study Grid -->
      <div
        id="videoGrid"
        class="grid grid-cols-1 sm:grid-cols-[repeat(auto-fit,minmax(600px,1fr))] gap-4 p-4"
      >
        <!-- VIDEO 1 -->
        <div class="video-card" data-category="videos">
          <div class="aspect-video rounded-lg overflow-hidden relative">
            <iframe
              class="w-full h-full rounded-lg"
              src="https://www.youtube.com/embed/zkn_wD2lBfU"
              title="Safe Blasting Procedures"
              frameborder="0"
              allowfullscreen
            ></iframe>
            <span
              class="absolute top-2 right-2 material-symbols-outlined text-white"
              >bookmark_border</span
            >
            <div
              class="absolute top-2 left-2 bg-yellow-500 text-black text-xs font-bold px-2 py-1 rounded"
              data-translate-key="label_new"
            >
              NEW
            </div>
          </div>
          <p class="text-gray-800 font-medium mt-2">Safe Blasting Procedures</p>
          <p class="text-gray-500 text-sm" data-translate-key="label_video">
            Video
          </p>
        </div>

        <!-- VIDEO 2 -->
        <div class="video-card" data-category="videos">
          <div class="aspect-video rounded-lg overflow-hidden relative">
            <iframe
              class="w-full h-full rounded-lg"
              src="https://www.youtube.com/embed/vtdQTTCS9Oc"
              title="Fall Protection Measures"
              frameborder="0"
              allowfullscreen
            ></iframe>
            <span
              class="absolute top-2 right-2 material-symbols-outlined text-white"
              >bookmark_border</span
            >
          </div>
          <p class="text-gray-800 font-medium mt-2">Fall Protection Measures</p>
          <p class="text-gray-500 text-sm" data-translate-key="label_video">
            Video
          </p>
        </div>

        <!-- VIDEO 3 (Placeholder) -->
        <div class="video-card" data-category="videos">
          <div
            class="aspect-video rounded-lg overflow-hidden relative bg-gray-200 flex items-center justify-center"
          >
            <!-- Replace link below -->
            <iframe
              class="w-full h-full rounded-lg"
              src="https://youtu.be/osNwXd37Vz4?si=3IP5zaTde8OOz34u"
              title="Your Video Title Here"
              frameborder="0"
              allowfullscreen
            ></iframe>
          </div>
          <p class="text-gray-800 font-medium mt-2">Your Video Title Here</p>
          <p class="text-gray-500 text-sm" data-translate-key="label_video">
            Video
          </p>
        </div>

        <!-- VIDEO 4 (Placeholder) -->
        <div class="video-card" data-category="videos">
          <div
            class="aspect-video rounded-lg overflow-hidden relative bg-gray-200 flex items-center justify-center"
          >
            <!-- Replace link below -->
            <iframe
              class="w-full h-full rounded-lg"
              src="https://youtu.be/BZwWK-COPew?si=E7ZccrHM4UwnPVHX"
              title="Your Video Title Here"
              frameborder="0"
              allowfullscreen
            ></iframe>
          </div>
          <p class="text-gray-800 font-medium mt-2">Your Video Title Here</p>
          <p class="text-gray-500 text-sm" data-translate-key="label_video">
            Video
          </p>
        </div>

        <!-- VIDEO 5 (Placeholder) -->
        <div class="video-card" data-category="videos">
          <div
            class="aspect-video rounded-lg overflow-hidden relative bg-gray-200 flex items-center justify-center"
          >
            <!-- Replace link below -->
            <iframe
              class="w-full h-full rounded-lg"
              src="https://youtu.be/4BxgTj0O0Mc?si=ave19ioFEVAqhfmL"
              title="Your Video Title Here"
              frameborder="0"
              allowfullscreen
            ></iframe>
          </div>
          <p class="text-gray-800 font-medium mt-2">Your Video Title Here</p>
          <p class="text-gray-500 text-sm" data-translate-key="label_video">
            Video
          </p>
        </div>

        <!-- CASE STUDY 1 -->
        <div
          class="video-card cursor-pointer"
          data-category="case-studies"
          onclick="openCaseStudy('case1', this)"
        >
          <div class="aspect-video rounded-lg overflow-hidden relative">
            <img
              src="https://th-i.thgim.com/public/news/national/other-states/vuf66t/article38358761.ece/alternates/LANDSCAPE_1200/TH---INDIA-COAL"
              class="w-full h-full object-cover rounded-lg"
            />
            <div
              class="absolute top-2 left-2 bg-green-500 text-black text-xs font-bold px-2 py-1 rounded"
              data-translate-key="label_case_study"
            >
              CASE STUDY
            </div>
          </div>
          <p class="text-gray-800 font-semibold mt-2">
            Coal Dust Explosion ‚Äì Dhanbad, 2021
          </p>
        </div>

        <!-- CASE STUDY 2 -->
        <div
          class="video-card cursor-pointer"
          data-category="case-studies"
          onclick="openCaseStudy('case2', this)"
        >
          <div class="aspect-video rounded-lg overflow-hidden relative">
            <img
              src="https://static.independent.co.uk/2023/02/27/09/10485711.jpg"
              class="w-full h-full object-cover rounded-lg"
            />
            <div
              class="absolute top-2 left-2 bg-green-500 text-black text-xs font-bold px-2 py-1 rounded"
              data-translate-key="label_case_study"
            >
              CASE STUDY
            </div>
          </div>
          <p class="text-gray-800 font-semibold mt-2">
            Mine Roof Collapse ‚Äì Chhattisgarh, 2022
          </p>
        </div>

        <!-- CASE STUDY 3 (Flooding Incident) -->
        <div
          class="video-card cursor-pointer"
          data-category="case-studies"
          onclick="openCaseStudy('case4', this)"
        >
          <div class="aspect-video rounded-lg overflow-hidden relative">
            <img
              src="https://i.ytimg.com/vi/YrVsC0AtHCI/hqdefault.jpg"
              class="w-full h-full object-cover rounded-lg"
            />
            <div
              class="absolute top-2 left-2 bg-green-500 text-black text-xs font-bold px-2 py-1 rounded"
              data-translate-key="label_case_study"
            >
              CASE STUDY
            </div>
          </div>
          <p class="text-gray-800 font-semibold mt-2">
            Flooding Incident ‚Äì Ratnagiri Quarry, 2023
          </p>
        </div>
      </div>
    </div>

    <!-- POPUP -->
    <div
      id="popupOverlay"
      class="hidden fixed inset-0 bg-black/70 z-50 flex items-center justify-center transition-opacity duration-300"
      onclick="closePopup()"
    >
      <div
        id="popupContent"
        class="relative bg-white rounded-2xl shadow-xl w-[95%] h-[90%] overflow-y-auto transform scale-95 transition-all duration-300 p-6"
        onclick="event.stopPropagation()"
      >
        <button
          onclick="closePopup()"
          class="absolute top-4 right-5 text-gray-600 hover:text-gray-900 text-2xl"
        >
          &times;
        </button>
        <div id="popupInner"></div>
      </div>
    </div>

    <script src="language-toggle.js"></script>
    <script>
      // Tabs
      const tabs = document.querySelectorAll(".tab");
      const cards = document.querySelectorAll(".video-card");
      tabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          tabs.forEach((t) =>
            t.classList.remove("text-primary", "border-primary", "active")
          );
          tab.classList.add("text-primary", "border-primary", "active");
          const category = tab.dataset.category;
          cards.forEach((card) => {
            if (category === "all" || card.dataset.category === category) {
              card.style.display = "flex";
              card.style.flexDirection = "column";
            } else {
              card.style.display = "none";
            }
          });
        });
      });

      // Case Studies (with DGMS info)
      const caseStudies = {
        case1: {
          title: {
            en: "Coal Dust Explosion ‚Äì Dhanbad, 2021",
            hi: "‡§ï‡•ã‡§Ø‡§≤‡§æ ‡§ß‡•Ç‡§≤ ‡§µ‡§ø‡§∏‡•ç‡§´‡•ã‡§ü ‚Äì ‡§ß‡§®‡§¨‡§æ‡§¶, 2021",
          },
          overview: {
            en: "A methane and coal dust explosion occurred in a Dhanbad underground coal mine due to poor ventilation and inadequate gas monitoring.",
            hi: "‡§ñ‡§∞‡§æ‡§¨ ‡§µ‡•á‡§Ç‡§ü‡§ø‡§≤‡•á‡§∂‡§® ‡§î‡§∞ ‡§Ö‡§™‡§∞‡•ç‡§Ø‡§æ‡§™‡•ç‡§§ ‡§ó‡•à‡§∏ ‡§®‡§ø‡§ó‡§∞‡§æ‡§®‡•Ä ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§ß‡§®‡§¨‡§æ‡§¶ ‡§ï‡•Ä ‡§≠‡•Ç‡§Æ‡§ø‡§ó‡§§ ‡§ï‡•ã‡§Ø‡§≤‡§æ ‡§ñ‡§¶‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§Æ‡•Ä‡§•‡•á‡§® ‡§î‡§∞ ‡§ï‡•ã‡§Ø‡§≤‡§æ ‡§ß‡•Ç‡§≤ ‡§µ‡§ø‡§∏‡•ç‡§´‡•ã‡§ü ‡§π‡•Å‡§Ü‡•§",
          },
          rootCause: {
            en: "Methane accumulation and failure of gas detection systems.",
            hi: "‡§Æ‡•Ä‡§•‡•á‡§® ‡§ï‡§æ ‡§ú‡§Æ‡§æ‡§µ ‡§î‡§∞ ‡§ó‡•à‡§∏ ‡§™‡§π‡§ö‡§æ‡§® ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§µ‡§ø‡§´‡§≤‡§§‡§æ‡•§",
          },
          dgms: {
            en: "DGMS Circular No. 08 of 2019 ‚Äì Guidelines on Methane and Coal Dust Explosion Prevention.",
            hi: "DGMS ‡§™‡§∞‡§ø‡§™‡§§‡•ç‡§∞ ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ 08, 2019 ‚Äì ‡§Æ‡•Ä‡§•‡•á‡§® ‡§î‡§∞ ‡§ï‡•ã‡§Ø‡§≤‡§æ ‡§ß‡•Ç‡§≤ ‡§µ‡§ø‡§∏‡•ç‡§´‡•ã‡§ü ‡§∞‡•ã‡§ï‡§•‡§æ‡§Æ ‡§™‡§∞ ‡§¶‡§ø‡§∂‡§æ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡•§",
          },
          safety: {
            en: [
              "Continuous gas monitoring using DGMS-approved methane detectors.",
              "Mandatory ventilation checks every 2 hours in gassy seams.",
              "Training for miners on evacuation and use of self-rescue apparatus.",
              "Installation of flame-proof electrical equipment in gassy mines.",
            ],
            hi: [
              "DGMS-‡§Ö‡§®‡•Å‡§Æ‡•ã‡§¶‡§ø‡§§ ‡§Æ‡•Ä‡§•‡•á‡§® ‡§°‡§ø‡§ü‡•á‡§ï‡•ç‡§ü‡§∞‡•ã‡§Ç ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á ‡§®‡§ø‡§∞‡§Ç‡§§‡§∞ ‡§ó‡•à‡§∏ ‡§®‡§ø‡§ó‡§∞‡§æ‡§®‡•Ä‡•§",
              "‡§ó‡•à‡§∏‡•Ä ‡§∏‡•Ä‡§Æ ‡§Æ‡•á‡§Ç ‡§π‡§∞ 2 ‡§ò‡§Ç‡§ü‡•á ‡§Æ‡•á‡§Ç ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§µ‡•á‡§Ç‡§ü‡§ø‡§≤‡•á‡§∂‡§® ‡§ú‡§æ‡§Ç‡§ö‡•§",
              "‡§ñ‡§®‡§ø‡§ï‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§î‡§∞ ‡§∏‡•ç‡§µ-‡§¨‡§ö‡§æ‡§µ ‡§â‡§™‡§ï‡§∞‡§£ ‡§ï‡•á ‡§â‡§™‡§Ø‡•ã‡§ó ‡§™‡§∞ ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£‡•§",
              "‡§ó‡•à‡§∏‡•Ä ‡§ñ‡§¶‡§æ‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§´‡•ç‡§≤‡•á‡§Æ-‡§™‡•ç‡§∞‡•Ç‡§´ ‡§µ‡§ø‡§¶‡•ç‡§Ø‡•Å‡§§ ‡§â‡§™‡§ï‡§∞‡§£‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§æ‡§™‡§®‡§æ‡•§",
            ],
          },
          link: "https://dgms.gov.in/safety-circulars",
        },
        case2: {
          title: {
            en: "Mine Roof Collapse ‚Äì Chhattisgarh, 2022",
            hi: "‡§ñ‡§¶‡§æ‡§® ‡§ï‡•Ä ‡§õ‡§§ ‡§ó‡§ø‡§∞‡§®‡§æ ‚Äì ‡§õ‡§§‡•ç‡§§‡•Ä‡§∏‡§ó‡§¢‡§º, 2022",
          },
          overview: {
            en: "A roof fall occurred during excavation due to weak strata support and ignored cracks in the mine ceiling.",
            hi: "‡§ï‡§Æ‡§ú‡•ã‡§∞ ‡§∏‡•ç‡§ü‡•ç‡§∞‡•á‡§ü‡§æ ‡§∏‡§Æ‡§∞‡•ç‡§•‡§® ‡§î‡§∞ ‡§ñ‡§¶‡§æ‡§® ‡§ï‡•Ä ‡§õ‡§§ ‡§Æ‡•á‡§Ç ‡§¶‡§∞‡§æ‡§∞‡•ã‡§Ç ‡§ï‡•Ä ‡§Ö‡§®‡§¶‡•á‡§ñ‡•Ä ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§ñ‡•Å‡§¶‡§æ‡§à ‡§ï‡•á ‡§¶‡•å‡§∞‡§æ‡§® ‡§õ‡§§ ‡§ó‡§ø‡§∞ ‡§ó‡§à‡•§",
          },
          rootCause: {
            en: "Improper roof bolting and lack of pre-shift inspection.",
            hi: "‡§Ö‡§®‡•Å‡§ö‡§ø‡§§ ‡§õ‡§§ ‡§¨‡•ã‡§≤‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§™‡•ç‡§∞‡•Ä-‡§∂‡§ø‡§´‡•ç‡§ü ‡§®‡§ø‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§ï‡•Ä ‡§ï‡§Æ‡•Ä‡•§",
          },
          dgms: {
            en: "DGMS Circular No. 06 of 2020 ‚Äì Safety in Underground Roof Control Operations.",
            hi: "DGMS ‡§™‡§∞‡§ø‡§™‡§§‡•ç‡§∞ ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ 06, 2020 ‚Äì ‡§≠‡•Ç‡§Æ‡§ø‡§ó‡§§ ‡§õ‡§§ ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ‡•§",
          },
          safety: {
            en: [
              "Conduct roof tests before every blasting operation.",
              "Use resin-grouted bolts as per DGMS specifications.",
              "Ensure visual and instrumental roof monitoring.",
              "Maintain record of strata control inspections daily.",
            ],
            hi: [
              "‡§π‡§∞ ‡§¨‡•ç‡§≤‡§æ‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§ë‡§™‡§∞‡•á‡§∂‡§® ‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§õ‡§§ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§ï‡§∞‡•á‡§Ç‡•§",
              "DGMS ‡§µ‡§ø‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡•ã‡§Ç ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ ‡§∞‡§æ‡§≤-‡§ó‡•ç‡§∞‡§æ‡§â‡§ü‡•á‡§° ‡§¨‡•ã‡§≤‡•ç‡§ü ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç‡•§",
              "‡§¶‡•É‡§∂‡•ç‡§Ø ‡§î‡§∞ ‡§µ‡§æ‡§¶‡•ç‡§Ø ‡§õ‡§§ ‡§®‡§ø‡§ó‡§∞‡§æ‡§®‡•Ä ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§",
              "‡§™‡•ç‡§∞‡§§‡§ø‡§¶‡§ø‡§® ‡§∏‡•ç‡§ü‡•ç‡§∞‡•á‡§ü‡§æ ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£ ‡§®‡§ø‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§ï‡§æ ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§¨‡§®‡§æ‡§è ‡§∞‡§ñ‡•á‡§Ç‡•§",
            ],
          },
          link: "https://dgms.gov.in/safety-circulars",
        },
        case4: {
          title: {
            en: "Flooding Incident ‚Äì Ratnagiri Quarry, 2023",
            hi: "‡§¨‡§æ‡§¢‡§º ‡§ï‡•Ä ‡§ò‡§ü‡§®‡§æ ‚Äì ‡§∞‡§§‡•ç‡§®‡§æ‡§ó‡§ø‡§∞‡•Ä ‡§ñ‡§¶‡§æ‡§®, 2023",
          },
          overview: {
            en: "Heavy rainfall caused flooding in an open quarry due to lack of drainage and insufficient weather monitoring systems.",
            hi: "‡§ú‡§≤ ‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§ï‡•Ä ‡§ï‡§Æ‡•Ä ‡§î‡§∞ ‡§Ö‡§™‡§∞‡•ç‡§Ø‡§æ‡§™‡•ç‡§§ ‡§Æ‡•å‡§∏‡§Æ ‡§®‡§ø‡§ó‡§∞‡§æ‡§®‡•Ä ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§≠‡§æ‡§∞‡•Ä ‡§µ‡§∞‡•ç‡§∑‡§æ ‡§∏‡•á ‡§ñ‡•Å‡§≤‡•Ä ‡§ñ‡§¶‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§¨‡§æ‡§¢‡§º ‡§Ü ‡§ó‡§à‡•§",
          },
          rootCause: {
            en: "Absence of proper sump channels and flood sensors.",
            hi: "‡§â‡§ö‡§ø‡§§ ‡§∏‡§Ç‡§™ ‡§ö‡•à‡§®‡§≤‡•ã‡§Ç ‡§î‡§∞ ‡§¨‡§æ‡§¢‡§º ‡§∏‡•á‡§Ç‡§∏‡§∞ ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§™‡§∏‡•ç‡§•‡§ø‡§§‡§ø‡•§",
          },
          dgms: {
            en: "DGMS Circular No. 09 of 2020 ‚Äì Guidelines on Water Ingress and Flood Control in Mines.",
            hi: "DGMS ‡§™‡§∞‡§ø‡§™‡§§‡•ç‡§∞ ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ 09, 2020 ‚Äì ‡§ñ‡§¶‡§æ‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ú‡§≤ ‡§™‡•ç‡§∞‡§µ‡•á‡§∂ ‡§î‡§∞ ‡§¨‡§æ‡§¢‡§º ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£ ‡§™‡§∞ ‡§¶‡§ø‡§∂‡§æ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡•§",
          },
          safety: {
            en: [
              "Install flood-level sensors and emergency sirens.",
              "Construct proper drainage and pumping channels.",
              "Integrate rainfall and weather alerts with mine dashboards.",
              "Train workers in flood evacuation drills.",
            ],
            hi: [
              "‡§¨‡§æ‡§¢‡§º-‡§∏‡•ç‡§§‡§∞ ‡§∏‡•á‡§Ç‡§∏‡§∞ ‡§î‡§∞ ‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§∏‡§æ‡§Ø‡§∞‡§® ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§",
              "‡§â‡§ö‡§ø‡§§ ‡§ú‡§≤ ‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§î‡§∞ ‡§™‡§Ç‡§™‡§ø‡§Ç‡§ó ‡§ö‡•à‡§®‡§≤ ‡§ï‡§æ ‡§®‡§ø‡§∞‡•ç‡§Æ‡§æ‡§£ ‡§ï‡§∞‡•á‡§Ç‡•§",
              "‡§ñ‡§¶‡§æ‡§® ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§° ‡§ï‡•á ‡§∏‡§æ‡§• ‡§µ‡§∞‡•ç‡§∑‡§æ ‡§î‡§∞ ‡§Æ‡•å‡§∏‡§Æ ‡§Ö‡§≤‡§∞‡•ç‡§ü ‡§ï‡•ã ‡§è‡§ï‡•Ä‡§ï‡•É‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§",
              "‡§¨‡§æ‡§¢‡§º ‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏ ‡§Æ‡•á‡§Ç ‡§∂‡•ç‡§∞‡§Æ‡§ø‡§ï‡•ã‡§Ç ‡§ï‡•ã ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§",
            ],
          },
          link: "https://dgms.gov.in/safety-circulars",
        },
      };

      // Open popup
      function openCaseStudy(id, card) {
        const cs = caseStudies[id];
        const img = card.querySelector("img")?.src || "";

        // Get current language
        const currentLang = localStorage.getItem("lang") || "en";

        // Get translations for labels
        const labels = {
          overview:
            window.translations && window.translations.popup_overview
              ? window.translations.popup_overview[currentLang]
              : "Overview:",
          rootCause:
            window.translations && window.translations.popup_root_cause
              ? window.translations.popup_root_cause[currentLang]
              : "Root Cause:",
          dgmsRef:
            window.translations && window.translations.popup_dgms_ref
              ? window.translations.popup_dgms_ref[currentLang]
              : "DGMS Reference:",
          safetyMeasures:
            window.translations && window.translations.popup_safety_measures
              ? window.translations.popup_safety_measures[currentLang]
              : "DGMS Safety Measures",
          viewCirculars:
            window.translations && window.translations.popup_view_circulars
              ? window.translations.popup_view_circulars[currentLang]
              : "View DGMS Safety Circulars",
        };

        const inner = `
    <img src="${img}" alt="${
          cs.title[currentLang]
        }" class="rounded-xl w-full h-72 object-cover mb-4">
    <h2 class="text-2xl font-bold text-gray-800 mb-3">${
      cs.title[currentLang]
    }</h2>
    <p class="text-gray-700 mb-4"><b>${labels.overview}</b> ${
          cs.overview[currentLang]
        }</p>
    <p class="text-gray-700 mb-3"><b>${labels.rootCause}</b> ${
          cs.rootCause[currentLang]
        }</p>
    <p class="text-gray-700 mb-3"><b>${labels.dgmsRef}</b> ${
          cs.dgms[currentLang]
        }</p>
    <h3 class="text-lg font-semibold text-gray-800 mt-4 mb-2">üõ°Ô∏è ${
      labels.safetyMeasures
    }</h3>
    <ul class="text-sm text-gray-700 list-disc list-inside space-y-1 mb-3">
      ${cs.safety[currentLang].map((m) => `<li>${m}</li>`).join("")}
    </ul>
    <a href="${
      cs.link
    }" target="_blank" class="text-primary underline text-sm hover:text-blue-700">${
          labels.viewCirculars
        }</a>
  `;
        document.getElementById("popupInner").innerHTML = inner;
        const overlay = document.getElementById("popupOverlay");
        overlay.classList.remove("hidden");
        document.body.classList.add("overflow-hidden");
        setTimeout(() => overlay.classList.add("opacity-100", "scale-100"), 10);
      }

      // Close popup
      function closePopup() {
        const overlay = document.getElementById("popupOverlay");
        overlay.classList.remove("opacity-100", "scale-100");
        document.body.classList.remove("overflow-hidden");
        setTimeout(() => overlay.classList.add("hidden"), 200);
      }

      // Search
      function filterCards() {
        const input = document
          .getElementById("searchInput")
          .value.toLowerCase();
        cards.forEach((card) => {
          const title = card.querySelector("p").textContent.toLowerCase();
          card.style.display = title.includes(input) ? "flex" : "none";
        });
      }
    </script>
  </body>
</html>
